---
title: "Bootcamp Intro to Regression"
output: html_document
---

```{r}
polity <- read.csv("~/Desktop/R Things/bootcamp/day_3/polity.csv")
```

```{r}
library(mosaic)
library(sjPlot)
```

### Background
How stable is a state? This is a frequently asked question in Political Science and in politics generally. Governments, the media, and your friends and relatives often want to know if a regime is going to fall or how stable a regime is. Your job is to use this data set in order to test a specific question about how fragile a state is. In order to do this we are using the polity data set which contains over a hundred countries that were measured every several years and includes a continuous measure of state fragility (a composite index compiled for the Fund For Peace and is constructed to consider the cohesion, economy, politics, and social factors of a country). Higher scores correspond to more fragility. The data set also contains many other state level variables. One of these is the sates estamated level of curuption.

### Research question & Hypothesis

**Dose a states electoral democracy score effect affect state fragility?**

$H_o$: The level of curuption in a state has no affect on state fragility.

$H_a$: The level of curuption in a state affects a state's fragility.

Lets talk about some things to be carful of when using linear regression

**Linear Relation**: the true regression relation between Y and X is linear. This is linear regression if you want it to be acurat you need to be safe to asum that the relationship its self is in fact linear. 
**Outliers and high leverag points**: Some data points because of there loction eather on the X or Y acsas can impact your regretion in way that you should be aware of.

There are more of these "assumptions" but for now we will leave it at that. When you take ineses class and she is talking about the other asumptions be sure you are paying attintion they are very important and your results will not mean what you think they mean if the assumptions are not met. 


```{r}
mod.1<-lm(state_fragility~ elec_dem, data = polity) 
summary(mod.1)
```

```{r}
tab_model(mod.1)
```

###Interpreting the difrent tables

- Intercept:Estimate
- elec_dem: Estimate, Std. Error, t-value, p-value
- Model: Residual standard error, degrees of freedom, Multiple R-squared, Adjusted R-squared


```{r}
ggplot(data = polity, aes(x = elec_dem, y = state_fragility)) +
  geom_point()   +
  stat_smooth(method = lm) +
  labs(title = "")
```

###Where did this line come from?

Ordanal least squares (OLS) is the line that minaises squared the distence between each of the points and the line its self.  We can think about tipping this line in any derection and it might fit some of the points better but on avrage it will fit all the points worst. 

###Reviw all of those coefitions in light of the graph.

- Intercept:Estimate
- elec_dem: Estimate, Std. Error
- Model: Residual standard error, Adjusted R-squared


### Lets think about the $f$ fo this linear model

Is this realtionship actualy linear? 
Lets think about the comparitive context that we are looking at. 


```{r}
mod.1<-lm(state_fragility~ elec_dem*polity_f, data = polity) 
summary(mod.1)
```



```{r}
ggplot(data = polity, aes(x = elec_dem, y = state_fragility)) +
  facet_wrap(~polity_f, ncol = 2)  +
  stat_smooth(method = lm) +
  labs(title = "", x="Electoral Democracy Score", y ="State Fragility")

ggplot(data = polity, aes(x = elec_dem, y = state_fragility)) +
  geom_point()  +
  aes(colour = polity_f)  +
  stat_smooth(method = lm) +
  theme(legend.position = "right") +
  labs(title = "")
```


